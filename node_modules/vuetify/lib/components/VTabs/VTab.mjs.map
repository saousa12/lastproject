{"version":3,"sources":["../../../src/components/VTabs/VTab.tsx"],"names":["VBtn","VTabsSymbol","makeGroupItemProps","useGroupItem","makeRouterProps","makeTagProps","makeThemeProps","provideDefaults","useTextColor","computed","ref","toRef","watch","defineComponent","pick","standardEasing","useRender","VTab","name","props","fixed","Boolean","icon","String","prependIcon","appendIcon","stacked","title","ripple","type","default","color","sliderColor","hideSlider","direction","selectedClass","setup","slots","attrs","isSelected","select","textColorClasses","sliderColorClasses","textColorStyles","sliderColorStyles","isHorizontal","block","maxWidth","undefined","value","variant","rounded","scoped","rootEl","sliderEl","prevEl","$el","parentElement","querySelector","nextEl","getComputedStyle","prevBox","getBoundingClientRect","nextBox","xy","XY","rightBottom","widthHeight","prevPos","nextPos","delta","origin","Math","sign","size","abs","scale","max","initialScale","sigma","animate","backgroundColor","transform","transformOrigin","Array","fill","duration","easing","btnProps","disabled"],"mappings":"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","sourcesContent":["// Styles\nimport './VTab.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VTabsSymbol } from './VTabs'\n\n// Composables\nimport { makeGroupItemProps, useGroupItem } from '@/composables/group'\nimport { makeRouterProps } from '@/composables/router'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps } from '@/composables/theme'\nimport { provideDefaults } from '@/composables/defaults'\nimport { useTextColor } from '@/composables/color'\n\n// Utilities\nimport { computed, ref, toRef, watch } from 'vue'\nimport { defineComponent, pick, standardEasing, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nexport const VTab = defineComponent({\n  name: 'VTab',\n\n  props: {\n    fixed: Boolean,\n    icon: [Boolean, String],\n    prependIcon: String,\n    appendIcon: String,\n\n    stacked: Boolean,\n    title: String,\n\n    ripple: {\n      type: Boolean,\n      default: true,\n    },\n    color: String,\n    sliderColor: String,\n    hideSlider: Boolean,\n\n    direction: {\n      type: String as PropType<'horizontal' | 'vertical'>,\n      default: 'horizontal',\n    },\n\n    ...makeTagProps(),\n    ...makeRouterProps(),\n    ...makeGroupItemProps({\n      selectedClass: 'v-tab--selected',\n    }),\n    ...makeThemeProps(),\n  },\n\n  setup (props, { slots, attrs }) {\n    const { isSelected, select, selectedClass } = useGroupItem(props, VTabsSymbol)\n    const { textColorClasses: sliderColorClasses, textColorStyles: sliderColorStyles } = useTextColor(props, 'sliderColor')\n    const isHorizontal = computed(() => props.direction === 'horizontal')\n\n    provideDefaults({\n      VBtn: {\n        block: toRef(props, 'fixed'),\n        maxWidth: computed(() => props.fixed ? 300 : undefined),\n        color: computed(() => isSelected.value ? props.color : undefined),\n        variant: 'text',\n        rounded: 0,\n      },\n    }, {\n      scoped: true,\n    })\n\n    const rootEl = ref<VBtn>()\n    const sliderEl = ref<HTMLElement>()\n    watch(isSelected, isSelected => {\n      if (isSelected) {\n        const prevEl: HTMLElement | undefined = rootEl.value?.$el.parentElement?.querySelector('.v-tab--selected .v-tab__slider')\n        const nextEl = sliderEl.value\n\n        if (!prevEl || !nextEl) return\n\n        const color = getComputedStyle(prevEl).color\n\n        const prevBox = prevEl.getBoundingClientRect()\n        const nextBox = nextEl.getBoundingClientRect()\n\n        const xy = isHorizontal.value ? 'x' : 'y'\n        const XY = isHorizontal.value ? 'X' : 'Y'\n        const rightBottom = isHorizontal.value ? 'right' : 'bottom'\n        const widthHeight = isHorizontal.value ? 'width' : 'height'\n\n        const prevPos = prevBox[xy]\n        const nextPos = nextBox[xy]\n        const delta = prevPos > nextPos\n          ? prevBox[rightBottom] - nextBox[rightBottom]\n          : prevBox[xy] - nextBox[xy]\n        const origin =\n          Math.sign(delta) > 0 ? (isHorizontal.value ? 'right' : 'bottom')\n          : Math.sign(delta) < 0 ? (isHorizontal.value ? 'left' : 'top')\n          : 'center'\n        const size = Math.abs(delta) + (Math.sign(delta) < 0 ? prevBox[widthHeight] : nextBox[widthHeight])\n        const scale = size / Math.max(prevBox[widthHeight], nextBox[widthHeight])\n        const initialScale = prevBox[widthHeight] / nextBox[widthHeight]\n\n        const sigma = 1.5\n        nextEl.animate({\n          backgroundColor: [color, ''],\n          transform: [\n            `translate${XY}(${delta}px) scale${XY}(${initialScale})`,\n            `translate${XY}(${delta / sigma}px) scale${XY}(${(scale - 1) / sigma + 1})`,\n            '',\n          ],\n          transformOrigin: Array(3).fill(origin),\n        }, {\n          duration: 225,\n          easing: standardEasing,\n        })\n      }\n    })\n\n    useRender(() => {\n      const [btnProps] = pick(props, [\n        'href',\n        'to',\n        'replace',\n        'icon',\n        'stacked',\n        'prependIcon',\n        'appendIcon',\n        'ripple',\n        'theme',\n        'disabled',\n      ])\n\n      return (\n        <VBtn\n          ref={ rootEl }\n          class={[\n            'v-tab',\n            selectedClass.value,\n          ]}\n          tabindex={ isSelected.value ? 0 : -1 }\n          role=\"tab\"\n          aria-selected={ String(isSelected.value) }\n          onClick={ () => !props.disabled && select(!isSelected.value) }\n          { ...btnProps }\n          { ...attrs }\n        >\n          { slots.default ? slots.default() : props.title }\n          { !props.hideSlider && (\n            <div\n              ref={ sliderEl }\n              class={[\n                'v-tab__slider',\n                sliderColorClasses.value,\n              ]}\n              style={ sliderColorStyles.value }\n            />\n          ) }\n        </VBtn>\n      )\n    })\n\n    return {\n      isSelected,\n    }\n  },\n})\n\nexport type VTab = InstanceType<typeof VTab>\n"],"file":"VTab.mjs"}